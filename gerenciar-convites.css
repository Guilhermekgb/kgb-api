:root{ --sidebar-w:260px; }
html, body{ margin:0; padding:0; height:100%; background:#f8f1e8; }
.wrapper{ display:flex; min-height:100vh; overflow:hidden; }
#menuLateral{ flex-shrink:0; height:100vh; overflow-y:auto; }
main.conteudo-principal{ flex:1; min-height:100vh; overflow-y:auto; width:100%; margin:0; max-width:none; padding:24px clamp(16px,3vw,32px) 40px; }
.conteudo-central{ display:contents !important; }
@media (min-width:769px){
  #menuLateral{ position:fixed; inset:0 auto 0 0; width:var(--sidebar-w); z-index:999; }
  .wrapper{ padding-left:var(--sidebar-w); }
}
@media (max-width:768px){
  #menuLateral{ position:fixed; transform:translateX(-100%); transition:.3s; z-index:999; width:var(--sidebar-w); }
  #menuLateral.aberto{ transform:translateX(0); }
  .wrapper{ padding-left:0; }
  main.conteudo-principal{ padding:20px; }
}

.card .row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.card .row .col{ flex:1; min-width:220px; }
.results{ overflow:auto; }
.table th,.table td{ white-space:nowrap; }
.k-right{ text-align:right; }

.toast{ position:fixed; right:18px; bottom:18px; background:#2e7d32; color:#fff; padding:10px 14px; border-radius:12px; box-shadow:0 8px 18px rgba(0,0,0,.18); opacity:0; transform:translateY(10px); transition:.25s; z-index:9999; }
.toast.show{ opacity:1; transform:translateY(0); }
.toast.warn{ background:#a56b00; } .toast.bad{ background:#b3261e; }
.badge.red{ background:#fee2e2; color:#991b1b; }
.badge.green{ background:#dcfce7; color:#166534; }
.badge.gray{ background:#f1f5f9; color:#0f172a; }
.small{ opacity:.85; }
.bulkbar{ display:flex; gap:10px; align-items:center; justify-content:flex-end; margin-top:8px; }

/* Modal */
.modal{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; z-index:10000; }
.modal.show{ display:flex; }
.modal .box{ background:#fff; width:min(520px,92vw); border-radius:14px; padding:18px; box-shadow:0 20px 50px rgba(0,0,0,.25); }
.modal .box .row{ display:flex; gap:10px; align-items:center; }
.modal .box .footer{ display:flex; gap:10px; justify-content:flex-end; margin-top:14px; }

/* Impressao (popup) */
.print-wrap{ padding:18px; background:#fff; color:#111; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
.ticket{ width:100%; border:1px dashed #999; border-radius:12px; padding:12px 14px; margin:8px 0; display:grid; grid-template-columns: 1fr auto; gap:12px; page-break-inside:avoid; }
.t-left h2{ margin:0 0 4px; font-size:18px; }
.muted{ color:#555; font-size:12px; }
.price{ font-weight:700; }
.qrbox{ width:84px; height:84px; border:1px solid #bbb; border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:11px; color:#666; }
.ticket .meta{ font-size:12px; }
.header-print{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.header-print .btn{ padding:6px 10px; border-radius:8px; background:#111; color:#fff; text-decoration:none; }
@media print{ .header-print{ display:none; } .print-wrap{ padding:0; } }

/* ajuste QR na pagina de impressao (injeta na janela) */
.qrcanvas > img, .qrcanvas > canvas{ width:84px; height:84px; }
.qrbox{ border:none; }
/* ===== Canvas baseado no layout do Editor ===== */
.ticket-layout{
  width:200mm;   /* 1000px no editor / 5 px por mm = 200mm */
  height:70mm;   /* 350px / 5 = 70mm */
  position:relative;
  border:1px dashed #999;
  border-radius:12px;
  margin:8px 0;
  background:#fff;
  page-break-inside:avoid;
}
.ticket-layout .el{
  position:absolute;
  box-sizing:border-box;
  overflow:hidden;
}
.ticket-layout .el.text{ white-space:pre-wrap; }
.ticket-layout .el.img img{ width:100%; height:100%; object-fit:contain; display:block; }
/* ===== Menu mobile: backdrop + travar scroll ===== */
#menuBackdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  z-index:900;
}

/* Quando o menu está aberto, trava o scroll do fundo */
body.no-scroll{
  overflow:hidden;
}

/* Esconde o hambúrguer no desktop (menu fixo) */
@media (min-width: 769px){
  #hamburguer{
    display:none;
  }
}
